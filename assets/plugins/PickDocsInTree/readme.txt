

PickDocsInTree v1.5

Данный плагин не является бесплатным. Вы имеете право на использование только, если купили его у автора (http://wdevblog.net.ru).


---Описание---
С помощью этого плагина можно в список или текстовое поле TV-параметра добавить документы, выбрав их из дерева документов сайта. Выбранные документы можно вывести на какой-то странице с помощью сниппетов Ditto или Wayfinder.

---Установка---
1. В системе управления откройте "Элементы" -> "Управление элементами" -> "Плагины" -> "Создать плагин".

2. Название плагина: PickDocsInTree
   В поле "Код плагина" вставьте код из файла pickDocsInTree_plugin.txt.
   На вкладке "Конфигурация" вставьте в поле "Конфигурация плагина" такой код:
   &tv_name=TV name;string;
   
3. На вкладке "Системные события" отметьте "OnDocFormRender" и "OnDocFormSave".

4. Создайте TV-параметр, например "popular". Тип ввода - Listbox(Multi-Select). Поддерживается также тип ввода "Text", но это менее удобно.

5. Если тип ввода "Text", пропустить этот шаг. Визуальный компонент для списка - Delimited List, Delimiter - "," (запятая без кавычек). Выберите шаблон, в котором будет использоваться TV параметр и нажмите "Сохранить".

6. Откройте созданный плагин PickDocsInTree и в конфигурации в поле "TV name" введите имя вашего TV-параметра. Можно ввести несколько через запятую (без пробелов).

7. Откройте документ в режиме редактирования. Рядом с пустым списком TV-параметра вы увидите кнопку "Выбрать". Нажмите эту кнопку и выберите документы в дереве слева. Названия этих документов будут добавляться в псписок. После завершения нажмите "Стоп". Выберите в списке нужные документы (используйте клавиши Ctrl и Shift). После сохраниения в списке останутся только выбранные (выделенные) документы.

7. Теперь можно вывести информацию о выбранных документах например с помощью сниппета Ditto.
Пример:
[[Ditto? &documents=`[*popular*]`&tpl=`promo`]]

popular - имя TV-параметра, в котором записаны идентификаторы документов;
promo - чанк с шаблоном, по которому будет выводиться информмация. Это обычный чанк Ditto.

